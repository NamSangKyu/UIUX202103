<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>회원가입 예제</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        h1 {
            text-align: center;
            margin: 40px 0px;
        }

        .container {
            width: 700px;
            padding: 50px;
            margin: 0 auto;
            border: 1px solid #e5e5e5;
        }

        .container>form>ul {
            list-style-type: none;
        }

        .container>form>ul>li {
            margin: 10px 0px;
        }

        .container>form>ul>ul {
            padding-left: 40px;
            list-style-type: disc;
            color: gray;
        }

        label {
            font-weight: bold;
        }

        input {
            border: none;
            outline: none;
            height: 50px;
            width: 80%;
            font-size: 20px;
        }

        button {
            outline: none;
        }

        .sub_txt {
            display: inline-block;
            text-align: right;
            width: 20%;
            padding-right: 10px;
            box-sizing: border-box;
            font-size: 20px;
            font-weight: bold;
            color: gray;
        }

        select {
            width: 100px;
            font-size: 18px;
            height: 50px;
            padding: 10px;
            box-sizing: border-box;
            border: none;
        }

        .border_left {
            margin-left: 10px;
            padding-left: 10px;
            border-left: 2px solid #bababa;
        }

        .border_bottom {
            border-bottom: 2px solid #bababa;
        }

        .btn_send_no {
            background-color: white;
            width: 300px;
            height: 50px;
            border-radius: 25px;
            border: 1px solid #e8e8e8;
        }

        .btn_send_no:hover {
            background-color: #e8e8e8;
            border-color: #bababa;
        }

        .btn_next {
            width: 100%;
            height: 50px;
            background-color: #e8e8e8;
            border-radius: 10px;
            border: none;
        }

        .btn_next:hover {
            background-color: #ffff04;
        }

        input[type='radio'] {
            width: 0px;
            height: 0px;
        }

        input[type='radio']+label {
            font-weight: normal;
            padding-left: 30px;
            background-image: url('/0420/img/radio_none_check.png');
            background-position: 5px center;
            background-repeat: no-repeat;
            background-size: 16px;
        }

        input[type='radio']:checked+label {
            background-image: url('/0420/img/radio_check.png');
        }
        .true{
            color:blue;
            font-weight: bold;
        }
        .false{
            color:red;
            font-weight: bold;
        }
    </style>
    <script src="/resource/lib/jquery-3.6.0.min.js"></script>
    <script>
        //아이디 값 체크하는 함수
        function idCheck() {
            var id = $("#id");
            if ($(id).val().length < 6 || $(id).val().length.length > 20) {
                alert("아이디는 6~20글자로 작성하세요");
                return false;
            }
            if (!isNaN($(id).val())) {
                alert("아이디는 숫자만 쓸수 없습니다.");
                return false;
            }
            if ($(id).val().indexOf(" ") != -1) {
                alert("아이디에는 공백을 쓸수 없습니다.");
                return false;
            }
            return true;
        }
        //암호 유효성 검사 함수
        function passCheck(){
            //태그 선택
            var pass = $("#pass");
            var pass_chk = $("#pass_chk");
            var pass_result = $("#pass_result");
            
            if($(pass).val().length < 8 || $(pass).val().length > 32){
                $(pass_result).html("암호는 8글자 이상 32자 이하로 입력하세요");
                //if(!$(pass_result).hasClass("false"))
                $(pass_result).removeAttr("class");
                $(pass_result).addClass("false");
                return false;
            }
            var pattern = /[0-9]/;
            if(!pattern.test($(pass).val())){
                $(pass_result).html("암호에 숫자하나를 반드시 입력하시겠습니다.");
                $(pass_result).removeAttr("class");
                $(pass_result).addClass("false");
                return false;
            }
            pattern = /[!@#$%^&*()_\+\=\-\[\]\"\']/;
            if(!pattern.test($(pass).val())){
                $(pass_result).html("암호에 특수문자 하나를 반드시 입력하시겠습니다.");
                $(pass_result).removeAttr("class");
                $(pass_result).addClass("false");
                return false;
            }
            pattern = /[a-zA-Z]/;
            if(!pattern.test($(pass).val())){
                $(pass_result).html("암호에 알파벳 하나를 반드시 입력하시겠습니다.");
                $(pass_result).removeAttr("class");
                $(pass_result).addClass("false");
                return false;
            }
            pattern = /[\s]/;
            if(pattern.test($(pass).val())){
                $(pass_result).html("암호에 공백을 넣으시면 안됩니다.");
                $(pass_result).removeAttr("class");
                $(pass_result).addClass("false");
            }
            if($(pass).val() != $(pass_chk).val()){
                $(pass_result).html("입력하신 두 암호가 다릅니다.");
                $(pass_result).removeAttr("class");
                $(pass_result).addClass("false");
                return false;
            }
            $(pass_result).html("암호가 정상적으로 입력되었습니다.");
            $(pass_result).removeAttr("class");
            $(pass_result).addClass("true");
            return true;
        }
        function checkTel(){
            var tel = $("#tel");
            var pattern = /^[0-9]*$/;
            //console.log(pattern.test(tel.value));
            if(!pattern.test($(tel).val())){
                alert("전화번호에는 숫자만 입력하세요");
                return false;
            }
            if($(tel).val().length > 11 || $(tel).val().length < 9){
                alert("전화번호는 9~11자리 까지입니다.");
                return false;
            }
            return true;
        }
        $(function () {
            //폼 태그 선택
           $("form").submit(function (e) {
                //아이디 체크 처리
                if(!idCheck()) return false;
                //암호 체크 처리
                if(!passCheck()) return false;
                //전화번호 체크 처리
                if(!checkTel()) return false;

                //아니오에 체크가 되어있을 경우
                if($("#agree2").is(":checked")){
                    alert("약관에 동의하셔야 서비스 이용이 가능합니다.");
                    return false;
                }
            });
            $("#pass").keyup(passCheck);
            $("#pass_chk").keyup(passCheck);
            
            $("#nick").keyup(function(){
                //20글자 넘어 갈때 substring으로 글자 20개 추출
                if($(this).val().length > 20){
                    $(this).val($(this).val().substring(0,20));
                    alert("닉네임은 20글자를 넘길수 없습니다.");
                }
                //글자 개수 출력
                $("#nick .sub_txt").html($(this).val().length+"/20")
            });
            
        });
    </script>
</head>

<body>
    <h1>kakao</h1>
    <div class="container">
        <h2>카카오 계정 정보를 입력해 주세요.</h2>
        <form action="" method="post" name="frm">
            <ul>
                <li><label for="id">카카오계정 이메일</label></li>
                <li class="border_bottom"><input type="text" name="id" id="id" placeholder="아이디 입력"><span
                        class="sub_txt">@kakao.com</span></li>
                <ul>
                    <li>입력한 카카오메일로 카카오게정에 로그인할 수 있습니다.</li>
                    <li>한번 만든 카카오메일은 변경할 수 없으니, 오타가 없도록 신중히 확인해 주세요.</li>
                    <li>생성한 카카오메일로 카카오계정과 관련한 알림을 받아볼 수 있습니다.</li>
                </ul>
                <li><label for="pass">비밀번호</label></li>
                <li class="border_bottom"><input type="password" name="password" id="pass" placeholder="비밀번호(8~32자리)"
                        maxlength="32"></li>
                <li class="border_bottom"><input type="password" id="pass_chk" placeholder="비밀번호 재입력" maxlength="32">
                </li>
                <li>
                    <div id="pass_result"></div>
                </li>
                <li><label for="nick">닉네임</label></li>
                <li class="border_bottom"><input type="text" name="nick" id="nick" placeholder="닉네임을 입력하세요" required><span
                        class="sub_txt">0/20</span></li>
                <li><label for="tel">전화번호</label></li>
                <li class="border_bottom"><select name="gcode" id="gcode">
                        <option value="82">+82</option>
                        <option value="1">+1</option>
                        <option value="84">+84</option>
                        <option value="55">+55</option>
                    </select><input type="text" name="tel" id="tel" placeholder="전화번호 입력하세요 -는 빼고" class="border_left">
                </li>
                <li><button type="button" class="btn_send_no">인증번호 전송</button></li>
                <li><span>약관동의</span></li>
                <li><input type="radio" name="agree" id="agree1" value="yes">
                    <label for="agree1">예</label>
                    <input type="radio" name="agree" id="agree2" value="no" checked>
                    <label for="agree2">아니오</label>
                </li>
                <li><button class="btn_next">다음</button></li>
            </ul>
        </form>
    </div>
</body>

</html>